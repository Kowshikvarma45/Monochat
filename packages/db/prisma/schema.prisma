generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  userid       String   @id @default(uuid())
  username     String   @unique
  email        String   @unique
  password     String
  Room         Room[]  
  createdRooms Room[]   @relation("CreatorRooms") 
  Chats        Chats[]  @relation("UserChats") 
  upvotedChats Chats[]  @relation("ChatUpvotes")
}
model Room {
  roomid    String  @id @default(uuid())
  connection String?
  users     User[]  
  chats     Chats[] 
  creatorId String
  creator   User    @relation("CreatorRooms", fields: [creatorId], references: [userid]) 
}
model Chats {
  chatid   String  @id @default(uuid())
  roomid   String  
  userid   String  
  message  String 
  upvotes  User[]  @relation("ChatUpvotes") 
  creator  User    @relation("UserChats", fields: [userid], references: [userid]) 
  room     Room    @relation(fields: [roomid], references: [roomid]) 
}
